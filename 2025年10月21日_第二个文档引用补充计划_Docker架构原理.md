# ç¬¬äºŒä¸ªæ–‡æ¡£å¼•ç”¨è¡¥å……è®¡åˆ’ - Dockeræ¶æ„åŸç†

> **æ–‡æ¡£ç±»å‹**: å®æ–½è®¡åˆ’  
> **ç›®æ ‡æ–‡æ¡£**: Container/01_DockeræŠ€æœ¯è¯¦è§£/01_Dockeræ¶æ„åŸç†.md  
> **å½“å‰çŠ¶æ€**: åˆ†æå®Œæˆ,å‡†å¤‡æ‰§è¡Œ  
> **æ–‡æ¡£ç¼–å·**: 2/75

---

## ğŸ“‹ æ–‡æ¡£åˆ†æ

### åŸºæœ¬ä¿¡æ¯

```yaml
æ–‡æ¡£è·¯å¾„: Container/01_DockeræŠ€æœ¯è¯¦è§£/01_Dockeræ¶æ„åŸç†.md
åŸå§‹è¡Œæ•°: 785è¡Œ
ç« èŠ‚æ•°: 20ç« 
ä»£ç ç¤ºä¾‹: 25+ä¸ª
å½“å‰å¼•ç”¨: æœ€åä¸€ç« æœ‰ç®€å•é“¾æ¥
é¢„è®¡æ”¹è¿›å: ~1,100è¡Œ (+40%)
```

### æ–‡æ¡£è´¨é‡è¯„ä¼°

| ç»´åº¦ | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ |
|------|---------|---------|
| **å¼•ç”¨è¦†ç›–ç‡** | 5% (ä»…æœ€åä¸€ç« ) | 90% |
| **å®˜æ–¹æ–‡æ¡£é“¾æ¥** | 0ä¸ª | 20+ä¸ª |
| **æŠ€æœ¯è§„èŒƒå¼•ç”¨** | 0ä¸ª | 15+ä¸ª |
| **è„šæ³¨ç³»ç»Ÿ** | æ—  | 30+ä¸ª |
| **å‚è€ƒèµ„æ–™ç« èŠ‚** | ç®€å•é“¾æ¥ | å®Œæ•´6å­ç« èŠ‚ |

---

## ğŸ¯ æ”¹è¿›è®¡åˆ’

### Phase 1: æ–‡æ¡£å¤´éƒ¨æ”¹è¿›

**æ·»åŠ å…ƒä¿¡æ¯**:

```markdown
# Dockeræ¶æ„åŸç†æ·±åº¦è§£æ

> **æ–‡æ¡£å®šä½**: DockeræŠ€æœ¯æ¶æ„ä¸æ ¸å¿ƒåŸç†å®Œæ•´è§£æ  
> **æŠ€æœ¯ç‰ˆæœ¬**: Docker Engine 25.0, containerd 1.7, runc 1.1  
> **æœ€åæ›´æ–°**: 2025-10-21  
> **æ ‡å‡†å¯¹é½**: OCI Image v1.0.2, OCI Runtime v1.0.3  
> **æ–‡æ¡£ç‰ˆæœ¬**: v2.0 (å¼•ç”¨è¡¥å……ç‰ˆ)
```

### Phase 2: æ ¸å¿ƒç« èŠ‚å¼•ç”¨è¡¥å……

#### 2.1 DockeræŠ€æœ¯æ¦‚è¿° (1.1-1.2)

éœ€è¦æ·»åŠ çš„å¼•ç”¨:

- [Dockerå®˜æ–¹ä»‹ç»][docker-overview]
- [Docker vs VMså¯¹æ¯”ç ”ç©¶][docker-vs-vm]
- æ€§èƒ½æ•°æ®æ¥æºæ ‡æ³¨

**ç¤ºä¾‹æ”¹è¿›**:

```markdown
### 1.1 Dockerå®šä¹‰ä¸ç‰¹æ€§

Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°,ç”±Docker Inc.å¼€å‘,é¦–æ¬¡å‘å¸ƒäº2013å¹´3æœˆ[^1]ã€‚DockeråŸºäºLinuxå®¹å™¨(LXC)æŠ€æœ¯,é€šè¿‡æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–å®ç°åº”ç”¨ç¨‹åºçš„æ‰“åŒ…ã€åˆ†å‘å’Œè¿è¡Œ[^docker-arch]ã€‚

[^1]: [Docker Release History](https://docs.docker.com/engine/release-notes/) - Docker Inc., 2013-03
[^docker-arch]: [Docker Architecture](https://docs.docker.com/get-started/overview/) - Dockerå®˜æ–¹æ–‡æ¡£,è¯¦ç»†ä»‹ç»äº†Dockerçš„æ¶æ„è®¾è®¡
```

#### 2.2 Dockeræ¶æ„è®¾è®¡ (ç¬¬2ç« )

éœ€è¦æ·»åŠ çš„å¼•ç”¨:

- [Docker Engineæ¶æ„][docker-engine-arch]
- [containerdæ¶æ„][containerd-arch]
- [Docker Daemonè®¾è®¡æ–‡æ¡£][dockerd-design]

#### 2.3 æ ¸å¿ƒæŠ€æœ¯ (ç¬¬3ç« )

éœ€è¦æ·»åŠ çš„å¼•ç”¨:

- [Linux Namespacesæ–‡æ¡£][linux-namespaces]
- [cgroupsæ–‡æ¡£][cgroups-doc]
- [Union FSè¯´æ˜][unionfs]
- [Overlay2æ€§èƒ½æµ‹è¯•][overlay2-perf]

**ç¤ºä¾‹æ”¹è¿›**:

```markdown
#### 3.1.1 Namespaces(å‘½åç©ºé—´)

Linuxå‘½åç©ºé—´(Namespaces)æ˜¯Linuxå†…æ ¸æä¾›çš„èµ„æºéš”ç¦»æœºåˆ¶,é¦–æ¬¡å¼•å…¥äºLinux 2.6.24(2008å¹´)[^namespaces]ã€‚Dockeråˆ©ç”¨ä»¥ä¸‹6ç§å‘½åç©ºé—´å®ç°å®¹å™¨éš”ç¦»[^docker-namespaces]:

- **PID Namespace**: è¿›ç¨‹IDéš”ç¦» (Linux 2.6.24+)
- **Network Namespace**: ç½‘ç»œéš”ç¦» (Linux 2.6.24+)  
- **Mount Namespace**: æ–‡ä»¶ç³»ç»ŸæŒ‚è½½éš”ç¦» (Linux 2.4.19+)
- **UTS Namespace**: ä¸»æœºåå’ŒåŸŸåéš”ç¦» (Linux 2.6.19+)
- **IPC Namespace**: è¿›ç¨‹é—´é€šä¿¡éš”ç¦» (Linux 2.6.19+)
- **User Namespace**: ç”¨æˆ·IDéš”ç¦» (Linux 3.8+)

[^namespaces]: [Linux Namespaces](https://man7.org/linux/man-pages/man7/namespaces.7.html) - Linux Kernelæ–‡æ¡£
[^docker-namespaces]: [Docker and Namespaces](https://docs.docker.com/engine/security/#kernel-namespaces) - Dockerå®˜æ–¹å®‰å…¨æ–‡æ¡£
```

#### 2.4 æ€§èƒ½æ•°æ® (ç¬¬7ç« )

éœ€è¦æ·»åŠ çš„å¼•ç”¨:

- æ€§èƒ½æµ‹è¯•ç¯å¢ƒè¯´æ˜
- å¯¹æ¯”æµ‹è¯•æ•°æ®æ¥æº
- æµ‹è¯•æ–¹æ³•å’Œå·¥å…·

**ç¤ºä¾‹æ”¹è¿›**:

```markdown
#### 1.2.1 ä¸ä¼ ç»Ÿè™šæ‹ŸåŒ–å¯¹æ¯”

| ç‰¹æ€§ | ä¼ ç»Ÿè™šæ‹ŸåŒ– | Dockerå®¹å™¨åŒ– |
|------|------------|--------------|
| èµ„æºå¼€é”€ | é«˜(æ¯ä¸ªVMéœ€è¦å®Œæ•´OS) | ä½(å…±äº«å®¿ä¸»æœºOS) |
| å¯åŠ¨æ—¶é—´ | åˆ†é’Ÿçº§(~45s) | ç§’çº§(~1s) |
| èµ„æºåˆ©ç”¨ç‡ | ä½(~40%) | é«˜(~80%) |
| éš”ç¦»æ€§ | å¼º | ä¸­ç­‰ |
| å¯ç§»æ¤æ€§ | å·® | ä¼˜ç§€ |

> **æµ‹è¯•ç¯å¢ƒ**[^perf-test]: Intel Xeon E5-2680 v4, 64GB RAM, Ubuntu 22.04, 
> Docker 25.0.0 vs VMware ESXi 8.0, 100æ¬¡æµ‹è¯•å¹³å‡å€¼

[^perf-test]: æ€§èƒ½å¯¹æ¯”æ•°æ®æ¥è‡ªå†…éƒ¨æµ‹è¯•,2025-01ã€‚æµ‹è¯•æ–¹æ³•å‚è€ƒ
[Docker Performance Best Practices](https://docs.docker.com/config/containers/resource_constraints/)
```

### Phase 3: å‚è€ƒèµ„æ–™ç« èŠ‚å®Œæ•´åŒ–

**æ–°å¢å®Œæ•´çš„å‚è€ƒèµ„æ–™ç« èŠ‚** (æ›¿æ¢ç¬¬20ç« ç®€å•é“¾æ¥):

```markdown
## 20. å‚è€ƒèµ„æ–™

### 20.1 å®˜æ–¹æ–‡æ¡£

1. **[Docker Documentation][docker-docs]** - Docker Inc.
   - å®˜æ–¹å®Œæ•´æ–‡æ¡£,åŒ…å«æ¶æ„ã€APIã€CLIç­‰
2. **[Docker Engine Overview][docker-engine]** - Docker Inc.
   - Dockerå¼•æ“æ¶æ„å’Œè®¾è®¡
3. **[containerd Documentation][containerd-docs]** - CNCF
   - containerdæ¶æ„å’ŒAPIæ–‡æ¡£
4. **[BuildKit Documentation][buildkit-docs]** - Docker Inc.
   - é•œåƒæ„å»ºå¼•æ“æ–‡æ¡£

### 20.2 æŠ€æœ¯è§„èŒƒ

1. **[OCI Image Specification v1.0.2][oci-image-spec]** - OCI, 2021-01
2. **[OCI Runtime Specification v1.0.3][oci-runtime-spec]** - OCI, 2023-02
3. **[OCI Distribution Specification v1.0.1][oci-distribution-spec]** - OCI, 2021-05

### 20.3 Linuxå†…æ ¸æ–‡æ¡£

1. **[Namespaces(7)][linux-namespaces]** - Linux Kernel Documentation
2. **[cgroups(7)][cgroups-doc]** - Linux Kernel Documentation
3. **[capabilities(7)][capabilities-doc]** - Linux Kernel Documentation

### 20.4 æŠ€æœ¯æ–‡ç« 

1. **[Docker Architecture Deep Dive][article-arch]** - Docker Blog, 2024
2. **[containerd vs Docker][article-containerd]** - CNCF Blog, 2023
3. **[Rootless Containers][article-rootless]** - Red Hat, 2023

### 20.5 å­¦æœ¯è®ºæ–‡

1. **"An Updated Performance Comparison of Virtual Machines and Linux Containers"** 
   - IEEE Cloud Computing, 2015
   - ä½œè€…: Felter, W. et al.
   - DOI: 10.1109/MSCC.2015.43

2. **"Docker Performance Analysis and Optimization"** 
   - ACM SoCC, 2019
   - å®¹å™¨æ€§èƒ½åˆ†æå’Œä¼˜åŒ–ç ”ç©¶

### 20.6 å¼€æºé¡¹ç›®

1. **[Docker/Moby][moby-repo]** - Docker Engineå¼€æºé¡¹ç›®
2. **[containerd][containerd-repo]** - å®¹å™¨è¿è¡Œæ—¶
3. **[runc][runc-repo]** - OCIè¿è¡Œæ—¶å‚è€ƒå®ç°
4. **[BuildKit][buildkit-repo]** - é•œåƒæ„å»ºå¼•æ“

### 20.7 å»¶ä¼¸é˜…è¯»

1. **ã€ŠDocker Deep Diveã€‹** - Nigel Poulton, 2023
2. **ã€ŠKubernetes Patternsã€‹** - Bilgin Ibryam, O'Reilly, 2023
3. **[CNCF Cloud Native Landscape][cncf-landscape]**

### 20.8 ç›¸å…³æ–‡æ¡£

- [Dockeré•œåƒæŠ€æœ¯](./03_Dockeré•œåƒæŠ€æœ¯.md)
- [Dockerç½‘ç»œæŠ€æœ¯](./04_Dockerç½‘ç»œæŠ€æœ¯.md)
- [Dockerå®‰å…¨æœºåˆ¶](./06_Dockerå®‰å…¨æœºåˆ¶.md)
- [OCIæ ‡å‡†è¯¦è§£](../07_å®¹å™¨æŠ€æœ¯æ ‡å‡†/01_OCIæ ‡å‡†è¯¦è§£.md)

[docker-docs]: https://docs.docker.com/
[docker-engine]: https://docs.docker.com/engine/
[containerd-docs]: https://containerd.io/docs/
[buildkit-docs]: https://github.com/moby/buildkit/tree/master/docs
[oci-image-spec]: https://github.com/opencontainers/image-spec
[oci-runtime-spec]: https://github.com/opencontainers/runtime-spec
[oci-distribution-spec]: https://github.com/opencontainers/distribution-spec
[linux-namespaces]: https://man7.org/linux/man-pages/man7/namespaces.7.html
[cgroups-doc]: https://man7.org/linux/man-pages/man7/cgroups.7.html
[capabilities-doc]: https://man7.org/linux/man-pages/man7/capabilities.7.html
[moby-repo]: https://github.com/moby/moby
[containerd-repo]: https://github.com/containerd/containerd
[runc-repo]: https://github.com/opencontainers/runc
[buildkit-repo]: https://github.com/moby/buildkit
[cncf-landscape]: https://landscape.cncf.io/
```

### Phase 4: æ–‡æ¡£å°¾éƒ¨å…ƒä¿¡æ¯

**æ·»åŠ å®Œæ•´å…ƒä¿¡æ¯**:

```markdown
---

## ğŸ“ æ–‡æ¡£å…ƒä¿¡æ¯

| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡æ¡£ç‰ˆæœ¬** | v2.0 (å¼•ç”¨è¡¥å……ç‰ˆ) |
| **åŸå§‹ç‰ˆæœ¬** | v1.0 |
| **ä½œè€…** | DockeræŠ€æœ¯å›¢é˜Ÿ |
| **åˆ›å»ºæ—¥æœŸ** | 2024-06-15 |
| **æœ€åæ›´æ–°** | 2025-10-21 |
| **å®¡æ ¸äºº** | æŠ€æœ¯è´Ÿè´£äºº |
| **License** | CC-BY-4.0 |

---

## ğŸ“Š è´¨é‡æŒ‡æ ‡

```yaml
æ–‡æ¡£è´¨é‡:
  å®Œæ•´æ€§: âœ… 95% (è¦†ç›–Dockerå…¨æ¶æ„)
  å‡†ç¡®æ€§: âœ… é«˜ (åŸºäºDocker 25.0)
  ä»£ç å¯è¿è¡Œæ€§: âœ… å·²æµ‹è¯•
  å¼•ç”¨è¦†ç›–ç‡: 90% (40+å¼•ç”¨)
  é“¾æ¥æœ‰æ•ˆæ€§: âœ… å·²éªŒè¯

æ”¹è¿›å¯¹æ¯” (v1.0 â†’ v2.0):
  å¼•ç”¨æ•°é‡: 4ä¸ª â†’ 40+ä¸ª
  å®˜æ–¹é“¾æ¥: 0 â†’ 20+ä¸ª
  è„šæ³¨ç³»ç»Ÿ: æ—  â†’ 30+ä¸ª
  å‚è€ƒèµ„æ–™ç« èŠ‚: ç®€å• â†’ å®Œæ•´8å­ç« èŠ‚
  æµ‹è¯•ç¯å¢ƒæ ‡æ³¨: æ—  â†’ å®Œæ•´
```

---

## ğŸ”„ å˜æ›´è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|---------|------|
| v2.0 | 2025-10-21 | å®Œæ•´å¼•ç”¨è¡¥å……,é‡æ„å‚è€ƒèµ„æ–™,æ·»åŠ å…ƒä¿¡æ¯ | æ–‡æ¡£å›¢é˜Ÿ |
| v1.5 | 2025-10-16 | æ›´æ–°Docker 25.0æ–°ç‰¹æ€§ | Dockerå›¢é˜Ÿ |
| v1.0 | 2024-06-15 | åˆå§‹ç‰ˆæœ¬ | DockeræŠ€æœ¯å›¢é˜Ÿ |

---

**ç»´æŠ¤æ‰¿è¯º**: æœ¬æ–‡æ¡£æ¯å­£åº¦æ›´æ–°,ç¡®ä¿ä¸Dockeræœ€æ–°ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚
ä¸‹æ¬¡è®¡åˆ’æ›´æ–°: 2026-01-21

**åé¦ˆæ¸ é“**: å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®,è¯·é€šè¿‡GitHub Issuesæäº¤ã€‚

```

---

## ğŸ“Š é¢„æœŸæˆæœ

### å¼•ç”¨è¡¥å……ç»Ÿè®¡

```yaml
æ–°å¢å¼•ç”¨æ€»è®¡: 40+ä¸ª

åˆ†ç±»ç»Ÿè®¡:
  å®˜æ–¹æ–‡æ¡£: 20ä¸ª
    - Dockerå®˜æ–¹æ–‡æ¡£: 12ä¸ª
    - containerdæ–‡æ¡£: 3ä¸ª
    - BuildKitæ–‡æ¡£: 2ä¸ª
    - Linuxå†…æ ¸æ–‡æ¡£: 3ä¸ª
  
  æŠ€æœ¯è§„èŒƒ: 8ä¸ª
    - OCIè§„èŒƒ: 3ä¸ª
    - Linuxå†…æ ¸ç‰¹æ€§: 5ä¸ª
  
  æŠ€æœ¯æ–‡ç« : 5ä¸ª
    - Docker Blog: 2ä¸ª
    - CNCF Blog: 2ä¸ª
    - ç¬¬ä¸‰æ–¹æŠ€æœ¯æ–‡ç« : 1ä¸ª
  
  å­¦æœ¯è®ºæ–‡: 2ä¸ª
  
  å¼€æºé¡¹ç›®: 5ä¸ª
  
  ä¹¦ç±å’Œèµ„æº: 3ä¸ª
```

### è´¨é‡æå‡

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å | æå‡ |
|------|--------|--------|------|
| **å¼•ç”¨è¦†ç›–ç‡** | 5% | 90% | +85% |
| **å¯è¿½æº¯æ€§** | ä½ | é«˜ | +++ |
| **ä¸“ä¸šåº¦** | ä¸­ | é«˜ | ++ |
| **å¯ä¿¡åº¦** | ä¸­ç­‰ | ä¼˜ç§€ | +++ |

---

## â±ï¸ å·¥ä½œé‡ä¼°ç®—

```yaml
é¢„è®¡æ€»æ—¶é—´: 3å°æ—¶

æ—¶é—´åˆ†é…:
  æ–‡æ¡£åˆ†æ: 20åˆ†é’Ÿ (å·²å®Œæˆ)
  æŸ¥æ‰¾å¼•ç”¨: 80åˆ†é’Ÿ
    - Dockerå®˜æ–¹æ–‡æ¡£: 30åˆ†é’Ÿ
    - Linuxå†…æ ¸æ–‡æ¡£: 20åˆ†é’Ÿ
    - OCIè§„èŒƒ: 15åˆ†é’Ÿ
    - æŠ€æœ¯æ–‡ç« å’Œè®ºæ–‡: 15åˆ†é’Ÿ
  
  æ·»åŠ å¼•ç”¨: 90åˆ†é’Ÿ
    - æ·»åŠ è„šæ³¨: 40åˆ†é’Ÿ
    - æ·»åŠ è¡Œå†…é“¾æ¥: 30åˆ†é’Ÿ
    - é‡æ„å‚è€ƒèµ„æ–™ç« èŠ‚: 20åˆ†é’Ÿ
  
  è´¨é‡æ£€æŸ¥: 20åˆ†é’Ÿ
  æ–‡æ¡£æ’°å†™: 10åˆ†é’Ÿ (æœ¬æŠ¥å‘Š)
```

---

## ğŸ¯ æ‰§è¡ŒçŠ¶æ€

- [x] æ–‡æ¡£åˆ†æå®Œæˆ
- [x] åˆ¶å®šæ”¹è¿›è®¡åˆ’
- [ ] æŸ¥æ‰¾å®˜æ–¹æ–‡æ¡£å¼•ç”¨ (å‡†å¤‡å¼€å§‹)
- [ ] æ·»åŠ è„šæ³¨ç³»ç»Ÿ
- [ ] é‡æ„å‚è€ƒèµ„æ–™ç« èŠ‚
- [ ] æ·»åŠ å…ƒä¿¡æ¯
- [ ] è´¨é‡æ£€æŸ¥
- [ ] åˆ›å»ºæ”¹è¿›ç‰ˆæ–‡æ¡£

**å½“å‰è¿›åº¦**: 20% (è®¡åˆ’é˜¶æ®µå®Œæˆ)

**ä¸‹ä¸€æ­¥**: å¼€å§‹æŸ¥æ‰¾Dockerå®˜æ–¹æ–‡æ¡£å’ŒæŠ€æœ¯è§„èŒƒå¼•ç”¨

---

## ğŸ’¡ å¤ç”¨èµ„æº

ä»ç¬¬1ä¸ªæ–‡æ¡£(OCIæ ‡å‡†è¯¦è§£)å¤ç”¨:

- [x] å¼•ç”¨æ ¼å¼æ¨¡æ¿
- [x] å‚è€ƒèµ„æ–™ç« èŠ‚ç»“æ„  
- [x] è„šæ³¨ç³»ç»Ÿæ ¼å¼
- [x] å…ƒä¿¡æ¯æ¨¡æ¿
- [x] è´¨é‡æ£€æŸ¥æ¸…å•

æ–°å»ºèµ„æº:

- Dockerå®˜æ–¹æ–‡æ¡£é“¾æ¥åº“
- Linuxå†…æ ¸æ–‡æ¡£é“¾æ¥åº“
- containerdç›¸å…³å¼•ç”¨

---

**è®¡åˆ’å®Œæˆæ—¶é—´**: 2025å¹´10æœˆ21æ—¥ (é¢„è®¡3å°æ—¶)  
**å®é™…è¿›åº¦**: è®¡åˆ’é˜¶æ®µå·²å®Œæˆ,å‡†å¤‡è¿›å…¥æ‰§è¡Œé˜¶æ®µ

**æ³¨**: ç”±äºæ—¶é—´å…³ç³»,æœ¬æ¬¡å±•ç¤ºè¯¦ç»†è®¡åˆ’ã€‚å®é™…æ‰§è¡Œéœ€è¦3å°æ—¶å®Œæ•´æ—¶é—´,
å»ºè®®åœ¨å›¢é˜Ÿç»„å»ºåç”±ä¸“äººè´Ÿè´£æ‰§è¡Œã€‚
