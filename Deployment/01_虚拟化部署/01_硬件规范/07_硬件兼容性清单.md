# 硬件兼容性清单 (HCL)

> **返回**: [硬件规范目录](README.md) | [部署指南首页](../../00_索引导航/README.md)

---

## 📋 目录

- [硬件兼容性清单 (HCL)](#硬件兼容性清单-hcl)
  - [📋 目录](#-目录)
  - [VMware vSphere兼容性](#vmware-vsphere兼容性)
    - [vSphere 8.0 认证服务器](#vsphere-80-认证服务器)
    - [vSphere 8.0 认证CPU](#vsphere-80-认证cpu)
    - [vSphere 8.0 认证网卡](#vsphere-80-认证网卡)
    - [vSphere 8.0 认证存储控制器](#vsphere-80-认证存储控制器)
  - [Kubernetes硬件要求](#kubernetes硬件要求)
    - [最低硬件要求](#最低硬件要求)
    - [网络硬件要求](#网络硬件要求)
    - [存储硬件要求](#存储硬件要求)
  - [国产化硬件兼容](#国产化硬件兼容)
    - [国产CPU](#国产cpu)
    - [国产操作系统](#国产操作系统)
  - [兼容性查询方法](#兼容性查询方法)
    - [VMware HCL查询](#vmware-hcl查询)
    - [Kubernetes兼容性查询](#kubernetes兼容性查询)
  - [硬件测试清单](#硬件测试清单)
    - [购买前验证](#购买前验证)
    - [收货后测试](#收货后测试)
  - [注意事项](#注意事项)
    - [⚠️ 重要提示](#️-重要提示)
    - [📌 常见问题](#-常见问题)
  - [相关文档](#相关文档)

---

## VMware vSphere兼容性

### vSphere 8.0 认证服务器

```yaml
Tier 1 (顶级支持):
  Dell EMC PowerEdge:
    支持型号:
      ✅ R650: 1U机架式
      ✅ R750: 2U机架式
      ✅ R760: 2U机架式 (最新)
      ✅ R750xa: 2U (支持GPU)
      ✅ C6520: 2U 4节点
    
    支持情况:
      完整支持: ✅✅✅
      驱动更新: 及时
      技术支持: 顶级
      OEM定制: ISO可用
    
    查询地址:
      https://www.dell.com/support/home/zh-cn
    
    推荐理由:
      ✅ 市场占有率最高
      ✅ 与VMware深度集成
      ✅ 驱动和固件支持好
      ✅ 售后服务完善

  HPE ProLiant:
    支持型号:
      ✅ DL360 Gen10: 1U机架式
      ✅ DL380 Gen10: 2U机架式
      ✅ DL360 Gen11: 1U (最新)
      ✅ DL380 Gen11: 2U (最新)
      ✅ Apollo 2000 Gen10: 高密度
    
    支持情况:
      完整支持: ✅✅✅
      SPP (Service Pack): 集成补丁包
      技术支持: 顶级
      OEM定制: ISO可用
    
    查询地址:
      https://www.hpe.com/cn/zh/servers/hpe-esxi.html
    
    推荐理由:
      ✅ 企业级首选
      ✅ iLO管理功能强大
      ✅ SPP简化维护
      ✅ OneView集中管理

  Cisco UCS:
    支持型号:
      ✅ C220 M6: 1U机架式
      ✅ C240 M6: 2U机架式
      ✅ C480 ML M5: 4U高性能
      ✅ B200 M6: 刀片服务器
    
    支持情况:
      完整支持: ✅✅✅
      HCL: 严格认证
      技术支持: 顶级
      UCS Manager: 深度集成
    
    查询地址:
      https://ucshcltool.cloudapps.cisco.com/public/
    
    推荐理由:
      ✅ 网络性能优异
      ✅ 与Cisco网络深度集成
      ✅ UCS统一管理
      ✅ 适合大型数据中心

  浪潮 (Inspur):
    支持型号:
      ✅ NF5280M6: 2U双路
      ✅ NF5180M6: 1U双路
      ✅ NF8260M6: 4U四路
      ✅ NF5266M6: 2U高密度
    
    支持情况:
      完整支持: ✅✅
      国产品牌: 首选
      技术支持: 良好
      性价比: 极高
    
    查询地址:
      https://www.inspur.com/
    
    推荐理由:
      ✅ 国产服务器第一品牌
      ✅ VMware认证完善
      ✅ 性价比高
      ✅ 本地化支持好

Tier 2 (良好支持):
  联想 (Lenovo) ThinkSystem:
    支持型号:
      ✅ SR650: 2U双路
      ✅ SR850: 4U四路
      ✅ SR630: 1U双路
      ✅ SD650: 高密度水冷
    
    支持情况:
      完整支持: ✅✅
      XClarity管理: 便捷
      技术支持: 良好
    
    推荐理由:
      ✅ 品牌知名度高
      ✅ 性价比适中
      ✅ 企业级可靠

  超微 (SuperMicro):
    支持型号:
      ✅ SYS-2029U: 2U双路
      ✅ SYS-1029U: 1U双路
      ✅ SuperBlade: 刀片系统
    
    支持情况:
      完整支持: ✅
      定制化: 灵活
      技术支持: 一般
    
    推荐理由:
      ✅ 性价比极高
      ✅ 灵活定制
      ⚠️  售后需注意

  华为 (Huawei) FusionServer:
    支持型号:
      ✅ 2288H V5: 2U双路
      ✅ 5288 V5: 2U四路
      ✅ 1288H V5: 1U双路
    
    支持情况:
      完整支持: ✅
      国产品牌: 重要选择
      技术支持: 良好
    
    注意:
      ⚠️  部分型号需确认最新HCL

认证查询:
  官方网站: https://www.vmware.com/resources/compatibility
  
  查询步骤:
    1. 访问VMware Compatibility Guide
    2. 选择: Systems → vSphere 8.0
    3. 输入: 服务器品牌和型号
    4. 查看: 认证状态和固件版本
    5. 下载: 推荐驱动包
```

### vSphere 8.0 认证CPU

```yaml
Intel处理器:
  Xeon Scalable (全系列):
    第一代 (Skylake-SP):
      ✅ 支持: vSphere 6.7+
      型号: 4100/5100/6100/8100系列
      状态: 完全支持
    
    第二代 (Cascade Lake-SP):
      ✅ 支持: vSphere 6.7+
      型号: 4200/5200/6200/8200系列
      状态: 完全支持
    
    第三代 (Ice Lake-SP):
      ✅ 支持: vSphere 7.0 U2+
      型号: 4300/5300/6300/8300系列
      状态: 完全支持
      特性: PCIe 4.0, DDR4-3200
    
    第四代 (Sapphire Rapids):
      ✅ 支持: vSphere 8.0+
      型号: 4400/5400/6400/8400系列
      状态: 完全支持 (最新)
      特性: PCIe 5.0, DDR5, CXL
  
  Xeon E系列:
    ✅ Xeon E-2300: 支持 (入门级)
    ✅ Xeon E-2200: 支持 (上一代)
  
  不支持:
    ❌ Core i系列: 不支持ESXi
    ❌ Pentium/Celeron: 不支持ESXi
    ❌ 缺少VT-x的CPU: 无法运行

AMD处理器:
  EPYC系列:
    第一代 (Naples):
      ✅ 支持: vSphere 6.5+
      型号: 7001系列
      状态: 完全支持
    
    第二代 (Rome):
      ✅ 支持: vSphere 6.7+
      型号: 7002系列 (7232P, 7443, 7763等)
      状态: 完全支持
      特性: PCIe 4.0, 最高64核
    
    第三代 (Milan):
      ✅ 支持: vSphere 7.0 U2+
      型号: 7003系列 (7313P, 7513, 75F3等)
      状态: 完全支持
      特性: PCIe 4.0, 最高64核
    
    第四代 (Genoa):
      ✅ 支持: vSphere 8.0+
      型号: 9004系列
      状态: 完全支持 (最新)
      特性: PCIe 5.0, DDR5, 最高96核
  
  Ryzen系列:
    ❌ 不支持: ESXi不支持消费级Ryzen

查询地址:
  https://www.vmware.com/resources/compatibility/search.php?deviceCategory=cpu
```

### vSphere 8.0 认证网卡

```yaml
Intel网卡:
  万兆 (10GbE):
    ✅ X710 系列:
      型号: X710-DA2/DA4/T4
      状态: 完全支持
      特性: SR-IOV, RDMA
      推荐: ✅✅✅
    
    ✅ X550 系列:
      型号: X550-T2
      状态: 完全支持
      接口: RJ45
    
    ✅ 82599 系列:
      型号: 82599ES
      状态: 完全支持 (老型号)
  
  25GbE:
    ✅ XXV710 系列:
      型号: XXV710-DA2
      状态: 完全支持
      推荐: ✅✅✅
  
  千兆:
    ✅ I350 系列:
      型号: I350-T4
      状态: 完全支持
      用途: 管理网络

Broadcom网卡:
  ✅ BCM57xxx 系列:
    型号: BCM57416/57508
    状态: 完全支持
    用途: Dell/HP集成网卡
  
  ✅ BCM59xxx 系列:
    型号: BCM59000
    状态: 完全支持 (新一代)

Mellanox (NVIDIA) 网卡:
  ✅ ConnectX-4 Lx:
    速率: 10/25/40/50GbE
    状态: 完全支持
    特性: RoCE, SR-IOV
  
  ✅ ConnectX-5:
    速率: 25/40/50/100GbE
    状态: 完全支持
    特性: RoCE v2
    推荐: ✅✅✅ (高性能)
  
  ✅ ConnectX-6:
    速率: 25/40/50/100/200GbE
    状态: 完全支持
    特性: 最新技术
    推荐: ✅✅✅ (顶级)

不推荐:
  ⚠️ Realtek网卡:
    部分型号: 不在HCL
    状态: 可能无驱动
    建议: 避免使用

查询地址:
  https://www.vmware.com/resources/compatibility/search.php?deviceCategory=io
```

### vSphere 8.0 认证存储控制器

```yaml
Dell PERC (PowerEdge RAID Controller):
  ✅ PERC H755:
    接口: PCIe 3.1 x8
    缓存: 8GB NV
    支持: RAID 0/1/5/6/10/50/60
    状态: 完全支持
    推荐: ✅✅✅
  
  ✅ PERC H750:
    接口: PCIe 3.1 x8
    缓存: 2/8GB NV
    状态: 完全支持
  
  ✅ PERC H730P:
    接口: PCIe 3.0 x8
    缓存: 2GB NV
    状态: 完全支持 (上一代)

HPE Smart Array:
  ✅ Smart Array P816i:
    接口: PCIe 3.0 x8
    缓存: 4GB FBWC
    状态: 完全支持
    推荐: ✅✅✅
  
  ✅ Smart Array P408i:
    接口: PCIe 3.0 x8
    缓存: 2/4GB
    状态: 完全支持

Broadcom MegaRAID:
  ✅ MegaRAID 9560-16i:
    接口: PCIe 4.0 x8
    缓存: 8GB DDR4
    支持: NVMe/SAS/SATA
    状态: 完全支持 (最新)
    推荐: ✅✅✅
  
  ✅ MegaRAID 9460-16i:
    接口: PCIe 3.1 x8
    缓存: 4GB DDR4
    状态: 完全支持
  
  ✅ MegaRAID 9361-8i:
    接口: PCIe 3.0 x8
    缓存: 1/2GB
    状态: 完全支持

HBA卡 (直通模式):
  ✅ Broadcom 9500-16i:
    接口: PCIe 4.0 x8
    模式: HBA (直通)
    用途: vSAN, 软RAID
    状态: 完全支持
    推荐: ✅✅✅ (vSAN专用)
  
  ✅ Broadcom 9400-16i:
    接口: PCIe 3.1 x8
    状态: 完全支持

查询地址:
  https://www.vmware.com/resources/compatibility/search.php?deviceCategory=san
```

---

## Kubernetes硬件要求

### 最低硬件要求

```yaml
Master节点 (控制平面):
  CPU:
    最低: 2核
    推荐: 4核+ (生产环境)
    架构: x86_64 (AMD64)
    架构: ARM64 (实验性支持)
  
  内存:
    最低: 2GB
    推荐: 8GB+ (生产环境)
    类型: 无特殊要求
  
  存储:
    最低: 20GB
    推荐: 100GB+ (存储etcd数据)
    类型: SSD推荐
  
  网络:
    最低: 1GbE
    推荐: 10GbE+
  
  数量:
    开发: 1个
    生产: 3/5个 (HA)

Worker节点:
  CPU:
    最低: 2核
    推荐: 8核+ (按负载)
    架构: x86_64
  
  内存:
    最低: 4GB
    推荐: 16GB+ (按负载)
  
  存储:
    最低: 50GB
    推荐: 200GB+ (容器镜像)
    类型: SSD强烈推荐
  
  网络:
    最低: 1GbE
    推荐: 10GbE+
  
  数量:
    按需: 通常3+

操作系统:
  支持:
    ✅ Ubuntu 20.04/22.04
    ✅ CentOS 7/8
    ✅ RHEL 7/8/9
    ✅ Rocky Linux 8/9
    ✅ Debian 10/11
    ✅ openSUSE Leap
  
  国产OS:
    ✅ 麒麟 (Kylin)
    ✅ 统信 (UOS)
    ✅ 欧拉 (openEuler)
  
  不支持:
    ❌ Windows (无法作为节点)
    ❌ 32位系统

内核版本:
  最低: 3.10+
  推荐: 4.19+ (更好的cgroup支持)
  推荐: 5.x (最新特性)
```

### 网络硬件要求

```yaml
CNI插件网卡要求:
  Calico:
    最低: 1GbE
    推荐: 10GbE+
    特性: 无特殊要求
  
  Cilium (eBPF):
    最低: 1GbE
    推荐: 10/25GbE
    特性: 支持SR-IOV更佳
    内核: 4.9.17+ (推荐5.x)
  
  Flannel:
    最低: 1GbE
    推荐: 10GbE
    特性: 无特殊要求

交换机要求:
  功能: L2/L3交换
  特性: VLAN, LACP (推荐)
  品牌: 无特殊要求
```

### 存储硬件要求

```yaml
持久化存储:
  本地存储:
    ✅ 支持: Local PV
    介质: SSD推荐 (NVMe更佳)
    RAID: 推荐RAID10
  
  NFS:
    ✅ 支持: NFS CSI
    版本: NFSv3/v4
    性能: 网络带宽决定
  
  iSCSI:
    ✅ 支持: iSCSI CSI
    HBA: 软件/硬件均可
  
  Ceph:
    ✅ 支持: Rook-Ceph
    推荐: NVMe SSD
    最低: 3节点

容器镜像存储:
  推荐: SSD (每个Worker节点)
  容量: 200GB+ (取决于镜像数量)
  格式: ext4 / xfs
```

---

## 国产化硬件兼容

### 国产CPU

```yaml
海光 (Hygon):
  架构: x86_64 (基于AMD Zen)
  型号:
    ✅ Hygon C86 7185: 32核64线程
    ✅ Hygon C86 7280: 32核64线程
    ✅ Hygon C86 7285: 32核64线程
  
  虚拟化支持:
    ✅ AMD-V: 完全支持
    ✅ AMD-Vi (IOMMU): 完全支持
  
  软件兼容:
    ✅ VMware vSphere: 完全支持
    ✅ KVM/QEMU: 完全支持
    ✅ Docker: 完全支持
    ✅ Kubernetes: 完全支持
  
  生态:
    成熟度: ★★★★☆ (较好)
    软件兼容: 与x86完全兼容
    推荐: ✅✅ (国产化首选)

鲲鹏 (Kunpeng):
  架构: ARM64 (ARMv8)
  型号:
    ✅ Kunpeng 920 6426: 64核
    ✅ Kunpeng 920 4826: 48核
    ✅ Kunpeng 916: 入门级
  
  虚拟化支持:
    ✅ ARM Virtualization: 支持
    ✅ KVM: 完全支持
  
  软件兼容:
    ❌ VMware vSphere: 不支持 (x86专用)
    ✅ KVM/QEMU: 完全支持
    ✅ Docker: 完全支持
    ✅ Kubernetes: 完全支持
  
  生态:
    成熟度: ★★★★☆ (快速发展)
    软件兼容: 需ARM版本软件
    推荐: ✅ (ARM国产化)

飞腾 (Phytium):
  架构: ARM64 (ARMv8)
  型号:
    ✅ FT-2000+: 64核
    ✅ FT-2000/4: 4核 (桌面)
    ✅ FT-2500: 64核 (服务器)
  
  虚拟化支持:
    ✅ KVM: 支持
  
  软件兼容:
    ❌ VMware vSphere: 不支持
    ✅ KVM/QEMU: 支持
    ✅ Docker: 支持
    ✅ Kubernetes: 支持
  
  生态:
    成熟度: ★★★☆☆ (持续完善)
    推荐: ⚠️ (谨慎选择)

龙芯 (Loongson):
  架构: LoongArch (自主架构)
  型号:
    ✅ 3A5000: 4核 (桌面)
    ✅ 3C5000: 16核 (服务器)
  
  虚拟化支持:
    ⚠️ KVM: 部分支持
  
  软件兼容:
    ❌ VMware vSphere: 不支持
    ⚠️ KVM/QEMU: 部分支持
    ⚠️ Docker: 需专门构建
    ⚠️ Kubernetes: 生态不成熟
  
  生态:
    成熟度: ★★☆☆☆ (初期阶段)
    推荐: ⚠️ (不推荐生产环境)

国产CPU选型建议:
  VMware环境:
    首选: 海光 (x86兼容，完全支持)
    备选: 无 (其他不支持)
  
  KVM环境:
    首选: 海光 (生态最好)
    备选: 鲲鹏 (ARM生态发展快)
  
  容器环境:
    首选: 海光
    备选: 鲲鹏
  
  桌面虚拟化:
    首选: 海光
    备选: 鲲鹏/飞腾
```

### 国产操作系统

```yaml
麒麟 (Kylin):
  版本:
    ✅ 麒麟V10 SP1/SP2/SP3
    ✅ 银河麒麟 (服务器版)
  
  支持平台:
    ✅ x86_64 (Intel/AMD/海光)
    ✅ ARM64 (鲲鹏/飞腾)
    ✅ MIPS (龙芯)
  
  虚拟化支持:
    ✅ KVM: 完全支持
    ✅ Docker: 完全支持
    ✅ Kubernetes: 完全支持
  
  成熟度: ★★★★☆
  推荐: ✅✅ (国产OS首选)

统信 (UOS):
  版本:
    ✅ UOS V20 SP1/SP2
    ✅ UOS服务器版
  
  支持平台:
    ✅ x86_64
    ✅ ARM64 (鲲鹏/飞腾)
    ✅ MIPS (龙芯)
  
  虚拟化支持:
    ✅ KVM: 完全支持
    ✅ Docker: 完全支持
    ✅ Kubernetes: 支持
  
  成熟度: ★★★★☆
  推荐: ✅ (桌面+服务器)

欧拉 (openEuler):
  版本:
    ✅ openEuler 20.03 LTS
    ✅ openEuler 22.03 LTS
  
  支持平台:
    ✅ x86_64
    ✅ ARM64 (鲲鹏)
  
  虚拟化支持:
    ✅ KVM: 完全支持
    ✅ Docker: 完全支持
    ✅ Kubernetes: 完全支持
  
  成熟度: ★★★★☆
  推荐: ✅ (华为生态)

中标麒麟:
  版本:
    ✅ 中标麒麟V7
  
  支持平台:
    ✅ x86_64
    ✅ ARM64
  
  成熟度: ★★★☆☆
  推荐: ⚠️ (老版本)
```

---

## 兼容性查询方法

### VMware HCL查询

```yaml
官方查询:
  网址: https://www.vmware.com/resources/compatibility
  
  查询步骤:
    1. 访问VMware Compatibility Guide
    
    2. 选择产品:
       Product: VMware vSphere
       Release: 8.0
    
    3. 选择类别:
       - Systems (服务器)
       - I/O Devices (网卡/HBA)
       - Storage/SAN (存储)
       - CPU (处理器)
    
    4. 输入型号:
       例: Dell PowerEdge R750
    
    5. 查看结果:
       - Certified (认证)
       - Compatible (兼容)
       - Not Supported (不支持)
    
    6. 查看详情:
       - Firmware版本要求
       - Driver版本
       - 已知问题
       - Release Notes

PowerCLI查询脚本:
  ```powershell
  # 连接vCenter
  Connect-VIServer -Server vcenter.example.com
  
  # 获取ESXi主机硬件信息
  Get-VMHost | Get-VMHostHardware | Select-Object VMHost, Manufacturer, Model, BiosVersion
  
  # 获取网卡信息
  Get-VMHost | Get-VMHostNetworkAdapter | Select-Object VMHost, Name, Mac, Driver, DriverVersion
  
  # 获取存储控制器
  Get-VMHost | Get-VMHostStorage | Get-ScsiLun | Select-Object VMHost, CanonicalName, Model, Vendor
  ```

命令行查询 (ESXi):

  ```bash
  # 查看服务器型号
  esxcli hardware platform get
  
  # 查看CPU信息
  esxcli hardware cpu list
  
  # 查看内存信息
  esxcli hardware memory get
  
  # 查看网卡信息
  esxcli network nic list
  
  # 查看存储适配器
  esxcli storage core adapter list
  ```

### Kubernetes兼容性查询

```yaml
操作系统兼容:
  官方文档:
    https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/
  
  检查项:
    - 内核版本: uname -r
    - 系统版本: cat /etc/os-release
    - CPU架构: uname -m

容器运行时兼容:
  官方文档:
    https://kubernetes.io/docs/setup/production-environment/container-runtimes/
  
  支持运行时:
    ✅ Docker (通过cri-dockerd)
    ✅ containerd
    ✅ CRI-O
  
  检查: 
    docker version
    containerd --version
    crio --version

CNI插件兼容:
  官方文档:
    https://kubernetes.io/docs/concepts/cluster-administration/addons/
  
  支持插件:
    ✅ Calico
    ✅ Cilium
    ✅ Flannel
    ✅ Weave Net

检查脚本:
  ```bash
  #!/bin/bash
  echo "=== Kubernetes环境检查 ==="
  
  # 检查操作系统
  echo "OS: $(cat /etc/os-release | grep PRETTY_NAME | cut -d '=' -f2)"
  echo "Kernel: $(uname -r)"
  echo "Arch: $(uname -m)"
  
  # 检查CPU核心数
  echo "CPU Cores: $(nproc)"
  
  # 检查内存
  echo "Memory: $(free -h | grep Mem | awk '{print $2}')"
  
  # 检查磁盘
  echo "Disk: $(df -h / | tail -1 | awk '{print $2}')"
  
  # 检查容器运行时
  if command -v docker &> /dev/null; then
    echo "Docker: $(docker --version)"
  fi
  
  if command -v containerd &> /dev/null; then
    echo "containerd: $(containerd --version)"
  fi
  
  # 检查网络
  echo "Network Interfaces:"
  ip -br link
  ```

---

## 硬件测试清单

### 购买前验证

```yaml
兼容性验证:
  ☐ 查询官方HCL (VMware/Red Hat等)
  ☐ 确认CPU型号在支持列表
  ☐ 确认网卡型号兼容
  ☐ 确认存储控制器兼容
  ☐ 查看用户评价和案例

固件版本:
  ☐ 确认BIOS版本支持虚拟化
  ☐ 确认网卡固件版本
  ☐ 确认RAID卡固件版本
  ☐ 查看Release Notes已知问题

商务验证:
  ☐ 确认质保期限和条款
  ☐ 确认技术支持响应时间
  ☐ 确认备件供应
  ☐ 确认退换货政策
```

### 收货后测试

```yaml
硬件自检:
  ☐ 开机POST自检通过
  ☐ 进入BIOS确认硬件识别
  ☐ 远程管理 (iDRAC/iLO) 可访问
  ☐ 所有硬件组件正常显示

内存测试:
  工具: memtest86+
  时长: 至少1个完整Pass
  命令:
    # 安装memtest86+
    apt-get install memtest86+  # Ubuntu
    yum install memtest86+      # CentOS
    
    # 重启选择memtest86+
  
  检查项:
    ☐ 无错误报告
    ☐ 所有内存条识别
    ☐ ECC功能正常

硬盘测试:
  工具: smartctl, fio
  命令:
    # SMART状态
    smartctl -a /dev/sda
    
    # 性能测试
    fio --name=test --rw=randread --bs=4k --numjobs=4 --size=1G --runtime=60
  
  检查项:
    ☐ SMART状态健康
    ☐ 无坏道
    ☐ 性能达标 (IOPS/延迟)

网卡测试:
  工具: iperf3, ethtool
  命令:
    # 检查网卡状态
    ethtool eth0
    
    # 带宽测试 (需要两台机器)
    iperf3 -s  # 服务端
    iperf3 -c <server-ip> -t 60  # 客户端
  
  检查项:
    ☐ Link状态: UP
    ☐ 速率正确 (10G/25G)
    ☐ 带宽接近理论值
    ☐ 无丢包

虚拟化功能测试:
  工具: 系统命令
  命令:
    # 检查VT-x/AMD-V
    grep -E 'vmx|svm' /proc/cpuinfo
    
    # 检查IOMMU
    dmesg | grep -E 'DMAR|AMD-Vi'
    
    # 安装KVM测试
    apt-get install qemu-kvm libvirt-daemon
    virsh list --all
  
  检查项:
    ☐ 虚拟化扩展已启用
    ☐ IOMMU已启用
    ☐ 能创建虚拟机

压力测试:
  工具: stress-ng
  命令:
    # 安装
    apt-get install stress-ng
    
    # CPU压力测试 (2小时)
    stress-ng --cpu $(nproc) --timeout 7200s
    
    # 内存压力测试
    stress-ng --vm 4 --vm-bytes 80% --timeout 3600s
    
    # I/O压力测试
    stress-ng --io 4 --hdd 4 --timeout 3600s
  
  检查项:
    ☐ 系统稳定，无重启
    ☐ 温度正常 (<80°C)
    ☐ 无硬件错误日志

测试报告模板:
  ```yaml
  硬件测试报告:
    服务器型号: [填写]
    序列号: [填写]
    测试日期: [填写]
    测试人员: [填写]
    
    测试结果:
      POST自检: [通过/失败]
      内存测试: [通过/失败]
      硬盘测试: [通过/失败]
      网卡测试: [通过/失败]
      虚拟化测试: [通过/失败]
      压力测试: [通过/失败]
    
    问题记录:
      - [无] 或 [描述问题]
    
    结论: [合格/不合格]
  ```

---

## 注意事项

### ⚠️ 重要提示

1. **必查HCL**: 生产环境部署前务必查询官方兼容性列表
2. **固件版本**: 注意BIOS、网卡、RAID卡固件版本要求
3. **驱动版本**: 使用官方推荐的驱动版本
4. **国产化**: 国产CPU选海光（x86兼容最好）
5. **测试验证**: 收货后必须进行全面硬件测试
6. **保留证据**: 测试结果和兼容性查询截图保存

### 📌 常见问题

**Q: HCL中没找到我的硬件怎么办？**  
A: 联系厂商技术支持确认，或选择已认证的替代品

**Q: 国产CPU能用VMware吗？**  
A: 只有海光（x86架构）可以，鲲鹏/飞腾不支持

**Q: 网卡驱动在哪下载？**  
A: VMware官网或服务器厂商OEM ISO镜像

**Q: 测试要多久？**  
A: 建议至少半天，包括内存、硬盘、网络、压力测试

---

## 相关文档

- [CPU处理器选型](01_CPU处理器选型.md)
- [内存选型指南](02_内存选型.md)
- [存储选型指南](03_存储选型.md)
- [网络设备选型](04_网络设备选型.md)
- [BIOS/固件配置清单](06_BIOS固件配置清单.md)
- [ESXi安装配置](../02_软件安装/02_VMware_ESXi安装与配置.md)

---

**更新时间**: 2025-10-19  
**文档版本**: v3.0  
**状态**: ✅ 生产就绪
