# 存储管理技术

## 目录

- [存储管理技术](#存储管理技术)
  - [目录](#目录)
  - [1. PV/PVC/StorageClass](#1-pvpvcstorageclass)
  - [2. 动态供应与回收策略](#2-动态供应与回收策略)
  - [3. CSI 驱动与能力](#3-csi-驱动与能力)
  - [4. 数据保护：快照/备份/恢复](#4-数据保护快照备份恢复)
  - [5. 实践要点与 FAQ](#5-实践要点与-faq)
  - [6. 故障清单与排查](#6-故障清单与排查)
  - [7. 示例 YAML 与 SOP](#7-示例-yaml-与-sop)

## 1. PV/PVC/StorageClass

- 生命周期、绑定模式、访问模式

## 2. 动态供应与回收策略

- Retain/Delete/Recycle；扩容与缩容

## 3. CSI 驱动与能力

- 挂载、扩展、快照能力模型

## 4. 数据保护：快照/备份/恢复

- VolumeSnapshot CRDs、备份工具生态

## 5. 实践要点与 FAQ

- 常见问题与调试命令

（待补充：示例 YAML 与 SOP）

## 6. 故障清单与排查

- PVC Pending：检查 StorageClass、动态供应控制器与权限。
- 卷只读/不可挂载：核对访问模式、节点能力与驱动日志。
- 快照失败：确认 CRDs/控制器状态与底层存储能力映射。

## 7. 示例 YAML 与 SOP

```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: data-pvc
spec:
  accessModes: ["ReadWriteOnce"]
  resources:
    requests:
      storage: 10Gi
  storageClassName: standard
```

SOP：

- 绑定状态：`kubectl get pvc data-pvc -o wide`
- 事件定位：`kubectl describe pvc data-pvc | sed -n '1,120p'`
- Pod 挂载失败时查看相关 Pod/Node/CSI 控制器日志。
