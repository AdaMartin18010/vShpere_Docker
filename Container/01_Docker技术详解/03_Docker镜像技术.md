# Docker镜像技术

## 目录

- [Docker镜像技术](#docker镜像技术)
  - [目录](#目录)
  - [1. 镜像分层与元数据](#1-镜像分层与元数据)
  - [2. 构建与缓存优化](#2-构建与缓存优化)
  - [3. 多阶段与多架构](#3-多阶段与多架构)
  - [4. 镜像签名与供应链安全](#4-镜像签名与供应链安全)
  - [5. 镜像分发与私有仓库](#5-镜像分发与私有仓库)
  - [6. 最佳实践与 FAQ](#6-最佳实践与-faq)

## 1. 镜像分层与元数据

- 兼容 OCI Image 规范，理解 Config、Manifest、Layers 与 Labels。

## 2. 构建与缓存优化

- 启用 BuildKit，善用 `--mount=type=cache` 与层顺序，降低缓存失效。

## 3. 多阶段与多架构

- 使用 multi-stage 构建与 buildx bake/build 生成多架构 manifest。

## 4. 镜像签名与供应链安全

- 使用 Notary 或 Sigstore；生成/附加 SBOM；集成漏洞扫描与策略阻断。

## 5. 镜像分发与私有仓库

- 配置 Registry、镜像代理与凭证；按环境制定拉取/缓存策略。

## 6. 最佳实践与 FAQ

- 采用最小基镜、不可变镜像、可复现构建流程。

（待补充：示例 Dockerfile 与 CI 片段）
