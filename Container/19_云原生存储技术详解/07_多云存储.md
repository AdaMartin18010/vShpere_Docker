# 07 - 多云存储

**作者**: 云原生存储专家团队  
**创建日期**: 2025-10-19  
**最后更新**: 2025-10-19  
**版本**: v1.0

---

## 📋 本章导航

- [07 - 多云存储](#07---多云存储)
  - [📋 本章导航](#-本章导航)
  - [1. 多云存储概述](#1-多云存储概述)
    - [1.1 多云战略](#11-多云战略)
    - [1.2 多云架构模式](#12-多云架构模式)
  - [2. AWS存储服务](#2-aws存储服务)
    - [2.1 AWS EBS](#21-aws-ebs)
    - [2.2 AWS EFS](#22-aws-efs)
    - [2.3 AWS S3](#23-aws-s3)
  - [3. Azure存储服务](#3-azure存储服务)
    - [3.1 Azure Disk](#31-azure-disk)
    - [3.2 Azure Files](#32-azure-files)
    - [3.3 Azure Blob](#33-azure-blob)
  - [4. GCP存储服务](#4-gcp存储服务)
    - [4.1 GCP Persistent Disk](#41-gcp-persistent-disk)
    - [4.2 GCP Filestore](#42-gcp-filestore)
    - [4.3 GCS](#43-gcs)
  - [5. 多云存储架构](#5-多云存储架构)
    - [5.1 存储抽象层](#51-存储抽象层)
    - [5.2 数据同步](#52-数据同步)
    - [5.3 灾难恢复](#53-灾难恢复)
  - [6. 成本优化](#6-成本优化)
    - [6.1 成本对比](#61-成本对比)
    - [6.2 成本优化策略](#62-成本优化策略)
  - [7. 总结](#7-总结)

---

## 1. 多云存储概述

### 1.1 多云战略

**为什么选择多云**:

```yaml
优势:
  ✅ 避免厂商锁定 (Vendor Lock-in)
  ✅ 降低成本 (多云比价)
  ✅ 提高可用性 (跨云灾备)
  ✅ 满足合规要求 (数据主权)
  ✅ 利用最佳服务 (各云优势)
  ✅ 地理覆盖 (全球部署)

挑战:
  ❌ 复杂性增加
  ❌ 管理成本高
  ❌ 数据一致性
  ❌ 网络延迟
  ❌ 安全风险
  ❌ 技能要求高

适用场景:
  - 大型企业 (全球业务)
  - 金融行业 (合规+灾备)
  - SaaS服务 (多区域)
  - 成本敏感型 (优化支出)
```

---

### 1.2 多云架构模式

**多云架构分类**:

```yaml
1. 多云活-活 (Multi-Cloud Active-Active):
   特点:
     - 多个云同时提供服务
     - 负载均衡
     - 数据实时同步
   
   优势:
     ✅ 高可用性
     ✅ 就近访问 (低延迟)
     ✅ 无单点故障
   
   挑战:
     ❌ 数据一致性复杂
     ❌ 同步成本高
     ❌ 运维复杂
   
   适用:
     - 全球业务
     - 高可用要求

2. 多云活-备 (Multi-Cloud Active-Passive):
   特点:
     - 主云提供服务
     - 备云待命
     - 故障切换
   
   优势:
     ✅ 成本较低
     ✅ 实现简单
     ✅ 数据一致性好
   
   挑战:
     ❌ RTO较长
     ❌ 备云资源闲置
   
   适用:
     - 灾难恢复
     - 合规备份

3. 混合云 (Hybrid Cloud):
   特点:
     - 本地+公有云
     - 数据分层
     - 部分迁移
   
   优势:
     ✅ 渐进式迁移
     ✅ 敏感数据本地
     ✅ 灵活性高
   
   挑战:
     ❌ 网络延迟
     ❌ 安全边界
   
   适用:
     - 传统企业上云
     - 数据主权要求

4. 云爆发 (Cloud Bursting):
   特点:
     - 本地为主
     - 高峰使用公有云
     - 弹性扩展
   
   优势:
     ✅ 成本优化
     ✅ 灵活扩展
   
   适用:
     - 周期性高峰
     - 测试环境
```

---

## 2. AWS存储服务

### 2.1 AWS EBS

**EBS (Elastic Block Store)** 是AWS的块存储服务。

**EBS卷类型**:

```yaml
1. gp3 (General Purpose SSD):
   性能:
     - 基准: 3,000 IOPS, 125 MB/s
     - 最大: 16,000 IOPS, 1,000 MB/s
     - 可独立调整IOPS和吞吐量
   
   成本:
     - $0.08/GB-month
     - IOPS: $0.005/IOPS-month (超过3,000)
     - 吞吐量: $0.04/MB/s-month (超过125)
   
   适用:
     - 通用工作负载
     - 启动卷
     - 虚拟桌面
   
   推荐:
     - 首选 (性价比最高)

2. gp2 (General Purpose SSD, 旧版):
   性能:
     - IOPS: 3 IOPS/GB (最小100, 最大16,000)
     - 吞吐量: 最大250 MB/s
   
   成本:
     - $0.10/GB-month
   
   适用:
     - 已有工作负载
   
   建议:
     - 迁移到gp3

3. io2 Block Express (Provisioned IOPS SSD):
   性能:
     - 最大: 256,000 IOPS, 4,000 MB/s
     - 延迟: < 1ms (亚毫秒级)
   
   成本:
     - $0.125/GB-month
     - $0.065/IOPS-month
   
   适用:
     - 高性能数据库
     - 关键业务应用
   
   特点:
     - 99.999% 持久性

4. st1 (Throughput Optimized HDD):
   性能:
     - 吞吐量: 基准40 MB/s/TB, 最大500 MB/s
     - IOPS: 最大500
   
   成本:
     - $0.045/GB-month
   
   适用:
     - 大数据
     - 日志处理
     - 数据仓库

5. sc1 (Cold HDD):
   性能:
     - 吞吐量: 基准12 MB/s/TB, 最大250 MB/s
     - IOPS: 最大250
   
   成本:
     - $0.015/GB-month
   
   适用:
     - 归档
     - 冷数据
```

**AWS EBS CSI Driver**:

```bash
# 安装AWS EBS CSI Driver
kubectl apply -k "github.com/kubernetes-sigs/aws-ebs-csi-driver/deploy/kubernetes/overlays/stable/?ref=master"

# 或使用Helm
helm repo add aws-ebs-csi-driver https://kubernetes-sigs.github.io/aws-ebs-csi-driver
helm install aws-ebs-csi-driver aws-ebs-csi-driver/aws-ebs-csi-driver \
  --namespace kube-system
```

**StorageClass配置**:

```yaml
# gp3 StorageClass
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: ebs-gp3
provisioner: ebs.csi.aws.com
volumeBindingMode: WaitForFirstConsumer
allowVolumeExpansion: true
parameters:
  type: gp3
  iops: "3000"         # 可选，默认3000
  throughput: "125"    # 可选，默认125 MB/s
  encrypted: "true"
  kmsKeyId: arn:aws:kms:us-east-1:123456789012:key/xxxx

---
# io2 StorageClass (高性能)
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: ebs-io2
provisioner: ebs.csi.aws.com
volumeBindingMode: WaitForFirstConsumer
allowVolumeExpansion: true
parameters:
  type: io2
  iops: "10000"
  encrypted: "true"

---
# st1 StorageClass (吞吐量优化)
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: ebs-st1
provisioner: ebs.csi.aws.com
volumeBindingMode: WaitForFirstConsumer
parameters:
  type: st1
  encrypted: "true"
```

---

### 2.2 AWS EFS

**EFS (Elastic File System)** 是AWS的网络文件系统 (NFS)。

**EFS特性**:

```yaml
特性:
  ✅ 完全托管的NFS
  ✅ 自动扩展 (PB级)
  ✅ 多AZ高可用
  ✅ ReadWriteMany (多Pod共享)
  ✅ 按使用付费

性能模式:
  1. General Purpose:
     - 延迟: 个位数毫秒
     - 吞吐量: 最大3 GB/s
     - 适用: 通用
  
  2. Max I/O:
     - 延迟: 较高
     - 吞吐量: 最大10 GB/s
     - 适用: 大规模并行

吞吐量模式:
  1. Bursting:
     - 基准: 50 MB/s per TB
     - 突发: 最大100 MB/s
     - 成本: 按存储付费
  
  2. Provisioned:
     - 固定吞吐量
     - 成本: 存储+吞吐量

存储类:
  - Standard: 频繁访问
  - Infrequent Access (IA): 成本低85%
  - 生命周期策略: 自动迁移到IA

成本:
  Standard: $0.30/GB-month
  IA: $0.045/GB-month
```

**AWS EFS CSI Driver**:

```bash
# 安装EFS CSI Driver
kubectl apply -k "github.com/kubernetes-sigs/aws-efs-csi-driver/deploy/kubernetes/overlays/stable/?ref=master"
```

**StorageClass配置**:

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: efs-sc
provisioner: efs.csi.aws.com
parameters:
  provisioningMode: efs-ap     # 自动创建Access Point
  fileSystemId: fs-12345678    # EFS文件系统ID
  directoryPerms: "700"
  gidRangeStart: "1000"
  gidRangeEnd: "2000"
  basePath: "/dynamic_provisioning"
```

**使用EFS**:

```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: efs-pvc
spec:
  accessModes:
  - ReadWriteMany     # 多Pod共享
  resources:
    requests:
      storage: 10Gi   # 仅用于请求，EFS自动扩展
  storageClassName: efs-sc

---
apiVersion: v1
kind: Pod
metadata:
  name: efs-app
spec:
  containers:
  - name: app
    image: nginx
    volumeMounts:
    - name: data
      mountPath: /data
  volumes:
  - name: data
    persistentVolumeClaim:
      claimName: efs-pvc
```

---

### 2.3 AWS S3

**S3 (Simple Storage Service)** 是AWS的对象存储服务。

**S3存储类**:

```yaml
1. S3 Standard:
   特点:
     - 11个9的持久性 (99.999999999%)
     - 99.99% 可用性
     - 毫秒级访问
   
   成本:
     - $0.023/GB-month (前50TB)
   
   适用:
     - 频繁访问
     - 关键数据

2. S3 Intelligent-Tiering:
   特点:
     - 自动分层 (频繁/不频繁/归档)
     - 无检索费用
   
   成本:
     - $0.023/GB-month (频繁)
     - $0.0125/GB-month (不频繁)
   
   适用:
     - 访问模式不确定

3. S3 Standard-IA (Infrequent Access):
   特点:
     - 不频繁访问
     - 检索费用
   
   成本:
     - $0.0125/GB-month
     - 检索: $0.01/GB
   
   适用:
     - 备份
     - 灾难恢复

4. S3 Glacier:
   特点:
     - 归档
     - 检索时间: 分钟-小时
   
   成本:
     - $0.004/GB-month
     - 检索: $0.01-0.05/GB
   
   适用:
     - 长期归档
     - 合规

5. S3 Glacier Deep Archive:
   特点:
     - 最低成本
     - 检索时间: 12小时
   
   成本:
     - $0.00099/GB-month
   
   适用:
     - 7-10年归档
```

**S3 CSI Driver**:

```bash
# Mountpoint for Amazon S3 CSI Driver
kubectl apply -k "github.com/awslabs/mountpoint-s3-csi-driver/deploy/kubernetes/overlays/stable/?ref=main"
```

---

## 3. Azure存储服务

### 3.1 Azure Disk

**Azure Disk类型**:

```yaml
1. Premium SSD v2:
   性能:
     - IOPS: 最大80,000
     - 吞吐量: 最大1,200 MB/s
     - 延迟: < 1ms
   
   成本:
     - $0.12/GB-month
     - $0.005/IOPS-month
     - $0.08/MB/s-month
   
   适用:
     - 高性能数据库
     - SAP HANA

2. Premium SSD:
   性能:
     - IOPS: 120-20,000 (按大小)
     - 吞吐量: 25-900 MB/s
   
   成本:
     - $0.135/GB-month (P30, 1TB)
   
   适用:
     - 生产工作负载

3. Standard SSD:
   性能:
     - IOPS: 500-6,000
     - 吞吐量: 60-750 MB/s
   
   成本:
     - $0.075/GB-month
   
   适用:
     - 开发/测试

4. Standard HDD:
   成本:
     - $0.04/GB-month
   
   适用:
     - 归档
```

**Azure Disk CSI Driver**:

```yaml
# Azure Disk StorageClass
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: managed-csi-premium
provisioner: disk.csi.azure.com
parameters:
  skuName: Premium_LRS        # Premium_LRS / StandardSSD_LRS / Standard_LRS
  kind: managed
  cachingMode: ReadOnly       # None / ReadOnly / ReadWrite
reclaimPolicy: Delete
volumeBindingMode: WaitForFirstConsumer
allowVolumeExpansion: true
```

---

### 3.2 Azure Files

**Azure Files特性**:

```yaml
特性:
  ✅ SMB/NFS协议
  ✅ ReadWriteMany
  ✅ 云原生备份
  ✅ AD集成

性能层:
  1. Premium:
     - SSD
     - IOPS: 最大100,000
     - 吞吐量: 最大10 GB/s
     - 成本: $0.20/GB-month
   
  2. Transaction Optimized:
     - 事务密集型
     - 成本: $0.08/GB-month
   
  3. Hot:
     - 常用文件
     - 成本: $0.0255/GB-month
   
  4. Cool:
     - 不常用文件
     - 成本: $0.015/GB-month

协议:
  - SMB 3.0 (Windows/Linux)
  - NFS 4.1 (Linux only)
```

**Azure Files CSI Driver**:

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: azurefile-csi-premium
provisioner: file.csi.azure.com
parameters:
  skuName: Premium_LRS
  protocol: nfs              # smb / nfs
mountOptions:
- nconnect=4                 # 并发连接数
- actimeo=30                 # 缓存超时
reclaimPolicy: Delete
volumeBindingMode: Immediate
allowVolumeExpansion: true
```

---

### 3.3 Azure Blob

**Azure Blob Storage**:

```yaml
访问层:
  1. Hot:
     - 频繁访问
     - $0.018/GB-month
   
  2. Cool:
     - 不频繁访问 (30天+)
     - $0.01/GB-month
   
  3. Archive:
     - 归档 (180天+)
     - $0.00099/GB-month

特性:
  ✅ 对象存储
  ✅ 生命周期管理
  ✅ 不可变存储 (WORM)
  ✅ 软删除
```

**BlobFuse CSI Driver**:

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: blob-fuse
provisioner: blob.csi.azure.com
parameters:
  resourceGroup: myResourceGroup
  storageAccount: mystorageaccount
  containerName: mycontainer
```

---

## 4. GCP存储服务

### 4.1 GCP Persistent Disk

**Persistent Disk类型**:

```yaml
1. Extreme Persistent Disk:
   性能:
     - IOPS: 最大120,000
     - 吞吐量: 最大2,400 MB/s
   
   成本:
     - $0.125/GB-month
     - $0.065/IOPS-month
   
   适用:
     - 高性能数据库

2. SSD Persistent Disk:
   性能:
     - IOPS: 30 IOPS/GB (最大100,000)
     - 吞吐量: 480 MB/GB (最大1,200 MB/s)
   
   成本:
     - $0.17/GB-month
   
   适用:
     - 通用高性能

3. Balanced Persistent Disk:
   性能:
     - IOPS: 6 IOPS/GB
     - 吞吐量: 0.28 MB/s/GB
   
   成本:
     - $0.10/GB-month
   
   适用:
     - 成本优化

4. Standard Persistent Disk:
   性能:
     - IOPS: 0.75 IOPS/GB
     - 吞吐量: 0.12 MB/s/GB
   
   成本:
     - $0.04/GB-month
   
   适用:
     - 归档
```

**GCP PD CSI Driver**:

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: pd-ssd
provisioner: pd.csi.storage.gke.io
volumeBindingMode: WaitForFirstConsumer
allowVolumeExpansion: true
parameters:
  type: pd-ssd               # pd-standard / pd-balanced / pd-ssd / pd-extreme
  replication-type: regional-pd  # none / regional-pd
```

---

### 4.2 GCP Filestore

**Filestore特性**:

```yaml
层级:
  1. Basic HDD:
     - 性能: 100 MB/s per TB
     - 成本: $0.20/GB-month
     - 容量: 1-63.9 TB
   
  2. Basic SSD:
     - 性能: 480 MB/s per TB
     - 成本: $0.30/GB-month
     - 容量: 2.5-63.9 TB
   
  3. High Scale SSD:
     - 性能: 最大12 GB/s
     - 成本: $0.40/GB-month
     - 容量: 10-100 TB
   
  4. Enterprise:
     - 多区域
     - 成本: $0.42/GB-month
     - 容量: 1-10 TB

特性:
  ✅ NFS 3.0
  ✅ ReadWriteMany
  ✅ 快照
  ✅ 备份
```

**Filestore CSI Driver**:

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: filestore-basic-hdd
provisioner: filestore.csi.storage.gke.io
volumeBindingMode: WaitForFirstConsumer
allowVolumeExpansion: true
parameters:
  tier: basic-hdd            # basic-hdd / basic-ssd / high-scale-ssd / enterprise
  network: default
```

---

### 4.3 GCS

**Google Cloud Storage (GCS)**:

```yaml
存储类:
  1. Standard:
     - 频繁访问
     - $0.020/GB-month
   
  2. Nearline:
     - 每月访问1次
     - $0.010/GB-month
     - 30天最小存储
   
  3. Coldline:
     - 每季度访问1次
     - $0.004/GB-month
     - 90天最小存储
   
  4. Archive:
     - 每年访问1次
     - $0.0012/GB-month
     - 365天最小存储

特性:
  ✅ 11个9持久性
  ✅ 生命周期管理
  ✅ 对象版本控制
  ✅ 跨区域复制
```

**GCS Fuse CSI Driver**:

```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: gcs-fuse
provisioner: gcsfuse.csi.storage.gke.io
volumeBindingMode: Immediate
parameters:
  bucketName: my-bucket
```

---

## 5. 多云存储架构

### 5.1 存储抽象层

**Kubernetes存储抽象**:

```yaml
优势:
  ✅ 统一接口 (PV/PVC/StorageClass)
  ✅ 屏蔽底层差异
  ✅ 易于迁移
  ✅ 多云兼容

实现:
  1. CSI驱动:
     - AWS EBS CSI
     - Azure Disk CSI
     - GCP PD CSI
  
  2. StorageClass:
     - 定义不同云的存储类型
     - 统一命名规范
  
  3. PVC:
     - 应用统一使用PVC
     - 不感知底层云

示例:
  # 应用层 (cloud-agnostic)
  apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: app-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Gi
    storageClassName: fast-ssd  # 抽象名称
  
  # 基础设施层 (cloud-specific)
  # AWS:
  apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    name: fast-ssd
  provisioner: ebs.csi.aws.com
  parameters:
    type: gp3
  
  # Azure:
  apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    name: fast-ssd
  provisioner: disk.csi.azure.com
  parameters:
    skuName: Premium_LRS
  
  # GCP:
  apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    name: fast-ssd
  provisioner: pd.csi.storage.gke.io
  parameters:
    type: pd-ssd
```

---

### 5.2 数据同步

**跨云数据同步工具**:

```yaml
1. Rclone:
   特点:
     - 支持40+云存储
     - 增量同步
     - 加密
     - 挂载为文件系统
   
   支持:
     ✅ S3 (AWS)
     ✅ Azure Blob
     ✅ GCS
     ✅ MinIO
     ✅ ...
   
   示例:
     # AWS S3 -> Azure Blob
     rclone sync s3:mybucket azureblob:mycontainer \
       --progress \
       --transfers 16 \
       --checkers 8

2. Velero:
   特点:
     - Kubernetes原生
     - 备份+恢复
     - 跨集群迁移
   
   示例:
     # AWS -> Azure
     # AWS集群备份到S3
     velero backup create aws-backup
     
     # 同步S3到Azure Blob (rclone)
     rclone sync s3:velero-bucket azureblob:velero-container
     
     # Azure集群从Azure Blob恢复
     velero restore create --from-backup aws-backup

3. Restic:
   特点:
     - 加密
     - 去重
     - 增量备份
   
   支持:
     - S3
     - Azure Blob
     - GCS
     - Local

4. Kafka (实时同步):
   特点:
     - 实时数据流
     - 跨云消息队列
   
   架构:
     AWS Kafka --MirrorMaker--> Azure Kafka
```

**Rclone配置**:

```bash
# 安装Rclone
curl https://rclone.org/install.sh | sudo bash

# 配置AWS S3
rclone config create aws-s3 s3 \
  provider=AWS \
  access_key_id=AKIA... \
  secret_access_key=... \
  region=us-east-1

# 配置Azure Blob
rclone config create azure azureblob \
  account=mystorageaccount \
  key=...

# 配置GCS
rclone config create gcs google_cloud_storage \
  service_account_file=/path/to/service-account.json

# 同步AWS S3 -> Azure Blob
rclone sync aws-s3:my-bucket azure:my-container \
  --progress \
  --transfers 32 \
  --checkers 16 \
  --fast-list

# 同步AWS S3 -> GCS
rclone sync aws-s3:my-bucket gcs:my-bucket --progress

# 双向同步 (bisync)
rclone bisync aws-s3:my-bucket gcs:my-bucket --resync
```

**Kubernetes CronJob (定时同步)**:

```yaml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: cloud-sync
spec:
  schedule: "0 */6 * * *"  # 每6小时
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: rclone
            image: rclone/rclone:latest
            command:
            - /bin/sh
            - -c
            - |
              rclone sync aws-s3:my-bucket azure:my-container \
                --config /config/rclone.conf \
                --progress \
                --log-file /logs/rclone.log
            volumeMounts:
            - name: rclone-config
              mountPath: /config
            - name: logs
              mountPath: /logs
          restartPolicy: OnFailure
          volumes:
          - name: rclone-config
            secret:
              secretName: rclone-config
          - name: logs
            emptyDir: {}
```

---

### 5.3 灾难恢复

**多云DR架构**:

```yaml
架构:
  
  主站点 (AWS us-east-1):
    - 生产集群
    - EBS存储
    - Velero定时备份到S3
    - Rclone同步S3到Azure Blob
  
  备站点 (Azure West US):
    - 待机集群
    - Azure Disk存储
    - Velero从Azure Blob恢复
  
  故障切换流程:
    1. 检测主站点故障
    2. DNS切换到Azure
    3. Azure集群从备份恢复
    4. 启动应用Pod
    5. 验证服务
  
  RTO/RPO:
    RTO: 30分钟 (恢复时间)
    RPO: 6小时 (备份间隔)
```

---

## 6. 成本优化

### 6.1 成本对比

**块存储成本对比** (每GB每月):

```yaml
SSD:
  AWS gp3: $0.08
  Azure Premium SSD: $0.135
  GCP SSD PD: $0.17

HDD:
  AWS st1: $0.045
  Azure Standard HDD: $0.04
  GCP Standard PD: $0.04

对象存储:
  AWS S3 Standard: $0.023
  Azure Blob Hot: $0.018
  GCS Standard: $0.020

归档:
  AWS Glacier Deep Archive: $0.00099
  Azure Archive: $0.00099
  GCS Archive: $0.0012
```

---

### 6.2 成本优化策略

```yaml
1. 分层存储:
   - 热数据: SSD
   - 温数据: HDD
   - 冷数据: 对象存储
   - 归档: Glacier/Archive

2. 生命周期管理:
   - 自动迁移到低成本存储
   - 自动删除过期数据

3. 压缩与去重:
   - Ceph压缩
   - Restic去重

4. 预留实例:
   - AWS Savings Plans
   - Azure Reserved Capacity
   - GCP Committed Use Discounts

5. 跨云比价:
   - 选择最低成本云
   - 动态迁移
```

---

## 7. 总结

```yaml
核心知识:
  ✅ 多云战略与架构模式
  ✅ AWS存储 (EBS/EFS/S3)
  ✅ Azure存储 (Disk/Files/Blob)
  ✅ GCP存储 (PD/Filestore/GCS)
  ✅ 多云存储架构 (抽象/同步/DR)
  ✅ 成本优化

代码示例:
  - CSI StorageClass (3云)
  - Rclone同步
  - Velero跨云迁移
  - 30+配置

技能:
  - 多云存储管理
  - 数据同步
  - 成本优化
```

---

**完成日期**: 2025-10-19  
**版本**: v1.0  
**作者**: 云原生存储专家团队

**Tags**: `#MultiCloud` `#AWS` `#Azure` `#GCP` `#Storage` `#CloudNative`
